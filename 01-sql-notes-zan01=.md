# Въведение в SQL

## Основни понятия

* SQL - език за  съставяне на заявки към сървъри за бази данни (БД)
* всяка БД се състои от множество таблици, в които се намират даните
* всяка таблица съответства на определен обект от модела на БД
* обект в модела на БД е нещо, за което събираме данни: Продукти, Коментари,
      Потребители, Плащания и т.н.

* **първичен ключ** (PK - Primary Key) e уникалният за дадена таблица 
идентификатор на редовете

  (pk)  user                   (pk)     posts
+-----+-----------+           +----+----------------+
| UID | UserName  |           | PID| Post           |
+-----+-----------+           +----+----------------+
|  1  |  John     |           | 1  |Hello ...       |
+-----+-----------+           +----+----------------+
|  2  |  Maria    |           | 2  |MySQL is...     |
+-----+-----------+           +----+----------------+
|  3  |  Peter    |           | 3  |SQL query...    |
+-----+-----------+           +----+----------------+
|  4  |  Anna     |           | 4  |Oracle driver...|
+-----+-----------+           +----+----------------+

* **външен ключ** (FK - Foreign Key) e идентификатор, който задава съответствието
на редовете от една таблица към друга таблица

  (pk)  user                   (pk)     posts        (fk)
+-----+-----------+           +----+----------------+------+
| UID | UserName  |           | PID| Post           | UID  |
+-----+-----------+           +----+----------------+------+
|  1  |  John     |           | 1  |Hello ...       |  1   |
+-----+-----------+           +----+----------------+------+
|  2  |  Maria    |           | 2  |MySQL is...     |  2   |
+-----+-----------+----------<-----+----------------+------+
|  3  |  Peter    |           | 3  |SQL query...    |  1   |
+-----+-----------+           +----+----------------+------+
|  4  |  Anna     |           | 4  |Oracle driver...|  2   |
+-----+-----------+           +----+----------------+------+


### Връзки между таблиците 

* 1:М -> на един ред от А съответстват един или повече реда от B
* 1:1 -> на един ред от А съответства точно един ред от B
* M:N -> на един ред от А съответстват един или повече реда от B, обратното 
             също е вярно; обикновено се преработва до 1:M и N:1
 


### Референциална цялост на БД (интегритет)

С данните могат да бъдат извършвани четири основни опрации:

* ЧЕТЕНЕ на **данни**
* ДОБАВЯНЕ на **редове** 
* ПРОМЯНА на **данни** (рестриктивно/каскадно)
* ИЗТРИВАНЕ на **редове** (рестриктивно/каскадно)

ЧЕТЕНЕТО на данни няма отношение към референциалната цялост, тъй като при тази 
операция не се променя съдържанието на таблиците

При ДОБАВЯНЕ определя последователността на действията (1. добавя се ред от 
страната 1; 2. добавя се ред от страната М).

За ПРОМЯНА/ИЗТРИВАНЕ интегритета може да се поддържа по два начина: рестриктивно
или каскадно.

  (pk)  user                   (pk)     posts        (fk)
+-----+-----------+           +----+----------------+------+
| UID | UserName  |           | PID| Post           | UID  |
+-----+-----------+           +----+----------------+------+
|  1  |  John     |           | 1  |Hello ...       |  1   |
+-----+-----------+           +----+----------------+------+
|  2  |  Maria    |           | 2  |MySQL is...     |  2   |
+-----+-----------+----------<+----+----------------+------+
|  3  |  Peter    |           | 3  |SQL query...    |  1   |
+-----+-----------+           +----+----------------+------+
|  4  |  Anna     |           | 4  |Oracle driver...|  2   |
+-----+-----------+           +----+----------------+------+


## Модел на базата данни Northwind

```
1. https://www.oracle.com/technetwork/database/database-technologies/express-edition/downloads/xe-prior-releases-5172097.html
2. http://www.oracle.com/technetwork/developer-tools/sql-developer/downloads/index.html
 ако се наложи 
 2.1. http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html

3. https://notepad-plus-plus.org/download/v7.7.1.html

```
